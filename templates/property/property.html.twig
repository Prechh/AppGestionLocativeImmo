{% extends 'base.html.twig' %}

{% block title %}
	Listes des biens
{% endblock %}

{% block body %}
	<div class="main">
		<div style="padding: 75px;" class="mt-5">
			<div class="jumbotron">
				<h1 class="display-4">
					Voir, modifier et supprimer les biens
				</h1>
				<p class="lead">Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi consequatur eaque asperiores nobis illum sunt doloremque beatae, minima a non perspiciatis maiores inventore nisi ratione quas quod qui. Praesentium, recusandae?</p>
			</div>


			{% for message in app.flashes('success') %}
				<div class="alert alert-success mt-4">
					{{ message }}</div>
			{% endfor %}

			<div class="mt-4">
				<table class="table table-hover">
					<thead>
						<tr>
							<th scope="col">Numéros</th>
							<th scope="col">Titre</th>
							<th scope="col">Description</th>
							<th scope="col">Surface</th>
							<th scope="col">Pièces</th>
							<th scope="col">Chambre</th>
							<th scope="col">Etage</th>
							<th scope="col">Chauffage</th>
							<th scope="col">Ville</th>
							<th scope="col">Adresse</th>
							<th scope="col">Code postal</th>
							<th scope="col">Prix</th>
							<th scope="col">Date mise en vente</th>
							<th scope="col">Vendu</th>
							<th scope="col"></th>
							<th scope="col"></th>
						</tr>
					</thead>

					<tbody>
						{% for property in propertys|sort %}
							<tr class="table-light">
								<th scope="row">{{ property.id }}</th>
								<td>{{ property.title }}</td>
								<td>{{ property.description }}</td>
								<td>{{ property.surface }}</td>
								<td>{{ property.rooms }}</td>
								<td>{{ property.bedrooms }}</td>
								<td>{{ property.floor }}</td>
								<td>{{ property.heat }}</td>
								<td>{{ property.city }}</td>
								<td>{{ property.address }}</td>
								<td>{{ property.postalcode }}</td>
								<td>{{ property.price|number_format(2, '.', ',') }}
									€</td>
								<td>{{ property.createdat|date('d/m/Y') }}</td>
								<td>{{ property.sold }}</td>
								<td>
									<a href="{{ path('app_property_edit', {id: property.id}) }}" class="btn btn-warning">
										Editer
									</a>
								</td>
								<td>
									<a href="{{ path('app_property_delete', {id: property.id}) }}" class="btn btn-danger">
										Supprimer
									</a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>

				<div class="navigation d-flex justify-content-center">
					{{ knp_pagination_render(propertys) }}
				</div>

				<a href="{{ path('app_property_new') }}" class="btn btn-success mt-4 d-flex justify-content-center">
					Ajouter une propriétée
				</a>

			</div>
		</div>
	</div>
{% endblock %}
